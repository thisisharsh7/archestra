# OpenAI API Key
# FIXME Consider keeping OPENAI_API_KEY empty by default so that it triggers validation if left empty
OPENAI_API_KEY=your-api-key-here

# LLM Provider Base URLs
ARCHESTRA_OPENAI_BASE_URL=https://api.openai.com/v1
ARCHESTRA_ANTHROPIC_BASE_URL=https://api.anthropic.com
ARCHESTRA_GEMINI_BASE_URL=https://generativelanguage.googleapis.com
# NOTE: use the following base URLs for testing w/ local wiremock service for e2e tests
# (see dev/Tiltfile.test)
# ARCHESTRA_OPENAI_BASE_URL=http://localhost:30080/v1
# ARCHESTRA_ANTHROPIC_BASE_URL=http://localhost:8080

# Public MCP catalog URL.
# If you are making changes to the MCP catalog, point it to the port the archestra-ai/website listens on.
# ARCHESTRA_MCP_CATALOG_API_BASE_URL=http://localhost:3001/mcp-catalog/api

# Database URL
ARCHESTRA_DATABASE_URL="postgresql://archestra:archestra_dev_password@localhost:5432/archestra_dev?schema=public"

# OpenTelemetry Configuration
# OTEL Exporter endpoint for sending traces (defaults to http://localhost:4318/v1/traces)
ARCHESTRA_OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1/traces
# OTEL Authentication - Basic auth credentials (both required if using basic auth)
ARCHESTRA_OTEL_EXPORTER_OTLP_AUTH_USERNAME=""
ARCHESTRA_OTEL_EXPORTER_OTLP_AUTH_PASSWORD=""
# OTEL Authentication - Bearer token (takes precedence over basic auth if provided)
ARCHESTRA_OTEL_EXPORTER_OTLP_AUTH_BEARER=""

# Bearer token for /metrics endpoint (port 9050). If set, update dev/prometheus.yml with matching token.
ARCHESTRA_METRICS_SECRET=""

# Sentry Configuration
# Sentry DSN for backend error tracking (leave empty to disable)
ARCHESTRA_SENTRY_BACKEND_DSN=""
# Environment identifier for Sentry
ARCHESTRA_SENTRY_ENVIRONMENT=""
# Sentry DSN for frontend error tracking (leave empty to disable)
NEXT_PUBLIC_ARCHESTRA_SENTRY_FRONTEND_DSN=""

# Optional for local dev
# API Base URL - The backend URL (used by Next.js server for proxying)
ARCHESTRA_API_BASE_URL="http://localhost:9000"

# Optional for local dev
# Frontend URL - The URL where users access the frontend
ARCHESTRA_FRONTEND_URL=http://localhost:3000

# Optional for local dev
# Cookie Domain - Required if different domains or subdomains for frontend and backend are used
# Should be set to the domain of the ARCHESTRA_FRONTEND_URL, e.g. "example.com"
ARCHESTRA_AUTH_COOKIE_DOMAIN=""

# Configuration for docker compose demos, e.g. docker-compose-n8n.yml and docker-compose-mastra.yml
DOMAIN_NAME=localhost
SSL_EMAIL=admin@localhost
GENERIC_TIMEZONE=UTC

# n8n
SUBDOMAIN=n8n

# Mastra
MASTRA_SUBDOMAIN=mastra
GITHUB_TOKEN=

# Analytics configuration for PostHog
ARCHESTRA_ANALYTICS=

# Auth
# IMPORTANT: Set ARCHESTRA_AUTH_SECRET to a secure, random value in production.
# Example: openssl rand -base64 32
ARCHESTRA_AUTH_SECRET=
ARCHESTRA_AUTH_ADMIN_EMAIL=admin@example.com
ARCHESTRA_AUTH_ADMIN_PASSWORD=password

# Feature Flags
# FEATURES_XYZ_ENABLED=false

# Kubernetes Configuration for MCP Server Runtime

# Whether to load kubeconfig from current cluster (set to "true" when running inside K8s)
ARCHESTRA_ORCHESTRATOR_LOAD_KUBECONFIG_FROM_CURRENT_CLUSTER=false
# Path to kubeconfig file (optional if running inside K8s cluster or using default ~/.kube/config)
ARCHESTRA_ORCHESTRATOR_KUBECONFIG=
# Kubernetes namespace for MCP server pods (defaults to "default")
ARCHESTRA_ORCHESTRATOR_K8S_NAMESPACE=default
# Base image for MCP server containers
ARCHESTRA_ORCHESTRATOR_MCP_SERVER_BASE_IMAGE=europe-west1-docker.pkg.dev/friendly-path-465518-r6/archestra-public/mcp-server-base:0.0.3
# Frontend-accessible base image (for display purposes in UI)
NEXT_PUBLIC_ARCHESTRA_ORCHESTRATOR_MCP_SERVER_BASE_IMAGE=europe-west1-docker.pkg.dev/friendly-path-465518-r6/archestra-public/mcp-server-base:0.0.3

# Logging
ARCHESTRA_LOGGING_LEVEL=info


# Enterprise license toggle
ARCHESTRA_ENTERPRISE_LICENSE_ACTIVATED=true

# Disable email/password login
ARCHESTRA_AUTH_DISABLE_BASIC_AUTH=false

# Disable user invitations (hides invitation UI and blocks invitation API endpoints)
ARCHESTRA_AUTH_DISABLE_INVITATIONS=false

# SSO Trusted Origins - JSON array of additional trusted origins for SSO authentication
# Required for SAML SSO: browsers send Origin: null for cross-origin form POSTs
# Example: '["null"]' for SAML, or '["null", "https://idp.example.com"]' for multiple origins
ARCHESTRA_AUTH_SSO_TRUSTED_ORIGINS=

# Secrets Manager Configuration
# ARCHESTRA_SECRETS_MANAGER: "DB" (default), "Vault", or "READONLY_VAULT"
# - DB: Stores secrets directly in PostgreSQL database
# - Vault: Stores secrets in HashiCorp Vault (requires enterprise license)
# - READONLY_VAULT: Allows teams to use external Vault folders for secrets (requires enterprise license)
ARCHESTRA_SECRETS_MANAGER=DB

# HashiCorp Vault Configuration (required when ARCHESTRA_SECRETS_MANAGER=Vault)
ARCHESTRA_HASHICORP_VAULT_ADDR=http://localhost:8200
# Authentication method: "TOKEN" (default), "K8S", or "AWS"
ARCHESTRA_HASHICORP_VAULT_AUTH_METHOD=TOKEN

# Vault Token Authentication (ARCHESTRA_HASHICORP_VAULT_AUTH_METHOD=TOKEN)
ARCHESTRA_HASHICORP_VAULT_TOKEN=dev-root-token

# Vault Kubernetes Authentication (ARCHESTRA_HASHICORP_VAULT_AUTH_METHOD=K8S)
# Role bound to the K8s service account (required for K8S auth)
ARCHESTRA_HASHICORP_VAULT_K8S_ROLE=
# Path to service account token (default: /var/run/secrets/kubernetes.io/serviceaccount/token)
ARCHESTRA_HASHICORP_VAULT_K8S_TOKEN_PATH=
# Vault K8s auth mount point (default: kubernetes)
ARCHESTRA_HASHICORP_VAULT_K8S_MOUNT_POINT=

# Vault AWS IAM Authentication (ARCHESTRA_HASHICORP_VAULT_AUTH_METHOD=AWS)
# Role bound to the AWS IAM principal (required for AWS auth)
ARCHESTRA_HASHICORP_VAULT_AWS_ROLE=
# Vault AWS auth mount point (default: aws)
ARCHESTRA_HASHICORP_VAULT_AWS_MOUNT_POINT=
# AWS region for STS signing (default: us-east-1)
ARCHESTRA_HASHICORP_VAULT_AWS_REGION=
# STS endpoint URL (default: https://sts.amazonaws.com)
ARCHESTRA_HASHICORP_VAULT_AWS_STS_ENDPOINT=
# Value for X-Vault-AWS-IAM-Server-ID header (optional, additional security)
ARCHESTRA_HASHICORP_VAULT_AWS_IAM_SERVER_ID=
